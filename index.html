<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet" type='text/css'>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="loading" id="loading"></div>
    <!----------NAVIGATION BAR---------->
    <div class="nav-wrapper" id="navBar">
        <div class="left-side">
            <div class="nav-title">Sébastien Annonier</div>
        </div>
        <div class="right-side" id="rightSide">
            <div class="nav-link-wrapper">
                <div class="transition-wrapper" onclick="switchScreen('index.html')">Accueil</div>
            </div>
            <div class="nav-link-wrapper">
                <div class="transition-wrapper" onclick="switchScreen('about.html')">A propos</div>
            </div>
        </div>
    </div>

    <div class="container">
        <!----------BANNER---------->
        <div class="banner-wrapper" id="bannerWrapper">
            <div class="banner-space" id="bannerTopSpace"></div>
            <div class="banner-text">
                <h1>Portfolio</h1>
            </div>
        </div>
        <!----------Content---------->
        <div class="portfolio-grid" id="grid">
            <div class="portfolio-item">
                <h2>Discord Bot</h2>
                <div class="transition-wrapper" onclick="switchScreen('sorry.html')">
                    <div class="picture-and-text">
                        <img src="discord_bot/discord_logo.png">
                        <div class="subtitle">/!\ WORK IN PROGRESS /!\<br><br>Un bot discord afin de demander des informations lors de jeux de rôles. Développé avec Python.</div>
                    </div>
                </div>
            </div>
            <div class="portfolio-item">
                <h2>Sewing Drawer</h2>
                <div class="transition-wrapper" onclick="switchScreen('sewing_drawer/sewing_drawer.html')">
                    <div class="picture-and-text">
                        <img src="sewing_drawer/kivy_logo.png">
                        <div class="subtitle">Une application android destinée à faire un inventaire de couture. Développé avec Python et la librairie Kivy.</div>
                    </div>
                </div>
            </div>
            <div class="portfolio-item">
                <h2>Sewing Rox</h2>
                <div class="transition-wrapper" onclick="switchScreen('sewing_rox/sewing_rox.html')">
                    <div class="picture-and-text">
                        <img src="sewing_rox/sewing_rox_logo.png">
                        <div class="subtitle">Un exemple de site internet pour exposer de la couture.</div>
                    </div>
                </div>
            </div>
            <div class="portfolio-item">
                <h2>Spidy Vs The Bugs</h2>
                <div class="transition-wrapper" onclick="switchScreen('spidy/spidy.html')">
                    <div class="picture-and-text">
                        <img src="spidy/spidy_logo.png">
                        <div class="subtitle">Un jeu vidéo platformer 2D fait en un mois lors d'une Game Jam. Fait avec Unity en C#.</div>
                    </div>
                </div>
            </div>
            <div class="portfolio-item">
                <h2>Dagger Dash</h2>
                <div class="transition-wrapper" onclick="switchScreen('dagger_dash/dagger_dash.html')">
                    <div class="picture-and-text">
                        <img src="dagger_dash/dagger_dash_logo.png">
                        <div class="subtitle">Un jeu vidéo platformer 2D dont le principe est de lancer des dagues et se téléporter. Fait avec Unity en C#.</div>
                    </div>
                </div>
            </div>
            <div class="portfolio-item">
                <h2>Projet Arduino</h2>
                <div class="transition-wrapper" onclick="switchScreen('arduino/arduino.html')">
                    <div class="picture-and-text">
                        <img src="arduino/arduino_logo.png">
                        <div class="subtitle">Diverses applications Arduino liant l'électronique à la programmation !</div>
                    </div>
                </div>
            </div>
        </div>
        <!----------FOOTER---------->
        <div class="footer">Vous pouvez également me trouver sur internet sous le pseudo de "Ennache"<br>Notament pour le game making et le G@MING</div>
    </div>
</body>

<script>
    /* Parralax */
    window.addEventListener("scroll", function () {
        bannerWrapper.style.backgroundSize = (100 + 0.03 * window.scrollY) + 'em';
    })

    /* Empty space banner height */
    bannerTopSpace.style.height = '0';
    
    /* Image darken */
    const portfolioItems = document.querySelectorAll('.picture-and-text')

    portfolioItems.forEach(portfolioItem => {
        portfolioItem.childNodes[1].classList.add('img-brighten');

        portfolioItem.addEventListener('mouseover',() => {
            portfolioItem.childNodes[1].classList.remove('img-brighten');
            portfolioItem.childNodes[1].classList.add('img-darken');
        })

        portfolioItem.addEventListener('mouseout',() => {
            portfolioItem.childNodes[1].classList.add('img-brighten');
            portfolioItem.childNodes[1].classList.remove('img-darken');
        })
    })

    /*Width Responsive*/
    var width_threshold_navBar = 700;
    var width_threshold_content = (400+10)*3;

    setWidth();
    window.addEventListener("resize", function () {
        setWidth();
    })
    
    function setWidth(){
        if (window.innerWidth < width_threshold_navBar) {
            navBar.style.fontSize = "1.2em";
        }
        else {
            navBar.style.fontSize = "2em";
        }

        if (window.innerWidth < width_threshold_content) {
            grid.style.gridTemplateColumns = "1fr";
        }
        else {
            grid.style.gridTemplateColumns = "1fr 1fr 1fr ";
        }
    }

    /* Scroll Nav Bar */
    var old_scroll_position = window.scrollY;
    var nav_hide_state = false;

    window.addEventListener("scroll", function () {
        var new_scroll_position = window.scrollY;
        if(new_scroll_position > old_scroll_position && !nav_hide_state){
            navBar.classList.add('nav-hide');
            nav_hide_state = true;
        }
        else if (new_scroll_position < old_scroll_position && nav_hide_state){
            navBar.classList.remove('nav-hide');
            nav_hide_state = false;
            
        }
        old_scroll_position = new_scroll_position;
    })

    
    /* Transition */
    async function switchScreen(url) {
        loading.style.transform = 'translate(0%, 0%)';
        await new Promise(resolve => setTimeout(resolve, 500));
        window.location = url
    }
    
    document.onreadystatechange = () => {
    if (document.readyState === 'complete') {
        loading.style.transform = 'translate(0%, -100%)';
    }
    };
    /*var banner = document.getElementById('bannerWrapper');*/
</script>

</html>